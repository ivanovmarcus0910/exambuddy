<!--<!DOCTYPE html>-->
<!--<html lang="vi">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Thay Đổi Mật Khẩu | E-Learning</title>-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">-->
<!--    <style>-->
<!--        /* Nếu header/sidebar chiếm diện tích lớn, đảm bảo chúng có z-index thấp */-->
<!--        .header-sidebar-wrapper {-->
<!--            position: relative;-->
<!--            z-index: 500;-->
<!--        }-->
<!--        /* Nội dung chính: ép buộc hiển thị trên cùng với z-index cao */-->
<!--        .content-area {-->
<!--            margin-top: 70px;   /* tránh header cao */-->
<!--            margin-left: 240px; /* dành chỗ cho sidebar */-->
<!--            padding: 20px;-->
<!--            position: relative;-->
<!--            z-index: 1000;-->
<!--            /* Dùng border tạm thời để debug */-->
<!--            /* border: 1px solid red; */-->
<!--            transition: margin-left 0.3s ease;-->
<!--        }-->
<!--        @media (max-width: 768px) {-->
<!--            .content-area {-->
<!--                margin-left: 70px;-->
<!--            }-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body style="margin:0; padding:0; background-color:#f5f6fa; font-family:'Segoe UI', sans-serif;">-->

<!--&lt;!&ndash; Chèn Header và Sidebar với z-index thấp &ndash;&gt;-->
<!--<div class="header-sidebar-wrapper" th:insert="~{fragments/headerProfile :: headerSidebar}"></div>-->

<!--&lt;!&ndash; Nội dung chính với z-index cao &ndash;&gt;-->
<!--<div class="content-area">-->
<!--    <div class="container d-flex justify-content-center align-items-center" style="min-height: calc(100vh - 70px);">-->
<!--        <div class="row shadow-lg p-5 bg-white rounded-4 w-100" style="max-width: 450px;">-->
<!--            <div class="text-center">-->
<!--                <img src="/img/logo.png" class="img-fluid mb-3 rounded-circle" style="width: 100px; height: 100px;">-->
<!--                <h2 class="fw-bold">THAY ĐỔI MẬT KHẨU</h2>-->
<!--                <p class="text-muted">Nhập thông tin để thay đổi mật khẩu</p>-->
<!--            </div>-->

<!--            &lt;!&ndash; Hiển thị thông báo lỗi hoặc thành công &ndash;&gt;-->
<!--            <p class="text-danger text-center small" th:if="${error}" th:text="${error}"></p>-->
<!--            <p class="text-success text-center small" th:if="${success}" th:text="${success}"></p>-->

<!--            &lt;!&ndash; Form đổi mật khẩu &ndash;&gt;-->
<!--            <form action="/changePass" method="post" class="mt-3" onsubmit="return validateForm()">-->
<!--                &lt;!&ndash; Mật khẩu hiện tại &ndash;&gt;-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label fw-semibold">Mật khẩu hiện tại</label>-->
<!--                    <div class="position-relative">-->
<!--                        <input type="password" id="currentPassword" name="currentPassword"-->
<!--                               class="form-control rounded-pill px-4 pe-5" placeholder="Nhập mật khẩu hiện tại" required>-->
<!--                        <i id="currentPasswordIcon" class="bi bi-eye position-absolute top-50 end-0 translate-middle-y me-3"-->
<!--                           style="cursor: pointer; font-size: 1.2rem; color: #6c757d;"></i>-->
<!--                    </div>-->
<!--                </div>-->

<!--                &lt;!&ndash; Mật khẩu mới &ndash;&gt;-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label fw-semibold">Mật khẩu mới</label>-->
<!--                    <div class="position-relative">-->
<!--                        <input type="password" id="newPassword" name="newPassword"-->
<!--                               class="form-control rounded-pill px-4 pe-5" placeholder="Nhập mật khẩu mới" required>-->
<!--                        <i id="newPasswordIcon" class="bi bi-eye position-absolute top-50 end-0 translate-middle-y me-3"-->
<!--                           style="cursor: pointer; font-size: 1.2rem; color: #6c757d;"></i>-->
<!--                    </div>-->
<!--                    <p class="text-danger small mt-1" id="passwordError" style="display: none;"></p>-->
<!--                </div>-->

<!--                &lt;!&ndash; Xác nhận mật khẩu mới &ndash;&gt;-->
<!--                <div class="mb-3">-->
<!--                    <label class="form-label fw-semibold">Xác nhận mật khẩu</label>-->
<!--                    <div class="position-relative">-->
<!--                        <input type="password" id="confirmPassword" name="confirmPassword"-->
<!--                               class="form-control rounded-pill px-4 pe-5" placeholder="Xác nhận mật khẩu" required>-->
<!--                        <i id="confirmPasswordIcon" class="bi bi-eye position-absolute top-50 end-0 translate-middle-y me-3"-->
<!--                           style="cursor: pointer; font-size: 1.2rem; color: #6c757d;"></i>-->
<!--                    </div>-->
<!--                    <p class="text-danger small mt-1" id="confirmPasswordError" style="display: none;"></p>-->
<!--                </div>-->

<!--                &lt;!&ndash; Nút cập nhật mật khẩu &ndash;&gt;-->
<!--                <button type="submit" class="btn btn-primary w-100 rounded-pill">Cập Nhật Mật Khẩu</button>-->
<!--            </form>-->

<!--            &lt;!&ndash; Liên kết quay lại Trang cá nhân &ndash;&gt;-->
<!--            <p class="text-center text-muted mt-4">-->
<!--                <a href="/profile" class="text-primary">Quay lại Trang cá nhân</a>-->
<!--            </p>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Bootstrap Bundle with Popper &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>-->

<!--&lt;!&ndash; Script: Toggle mật khẩu & Validate form &ndash;&gt;-->
<!--<script>-->
<!--    function togglePassword(fieldId, iconId) {-->
<!--        const passwordField = document.getElementById(fieldId);-->
<!--        const icon = document.getElementById(iconId);-->
<!--        if (passwordField.type === "password") {-->
<!--            passwordField.type = "text";-->
<!--            icon.classList.remove("bi-eye");-->
<!--            icon.classList.add("bi-eye-slash");-->
<!--        } else {-->
<!--            passwordField.type = "password";-->
<!--            icon.classList.remove("bi-eye-slash");-->
<!--            icon.classList.add("bi-eye");-->
<!--        }-->
<!--    }-->

<!--    document.getElementById("currentPasswordIcon").addEventListener("click", function () {-->
<!--        togglePassword("currentPassword", "currentPasswordIcon");-->
<!--    });-->
<!--    document.getElementById("newPasswordIcon").addEventListener("click", function () {-->
<!--        togglePassword("newPassword", "newPasswordIcon");-->
<!--    });-->
<!--    document.getElementById("confirmPasswordIcon").addEventListener("click", function () {-->
<!--        togglePassword("confirmPassword", "confirmPasswordIcon");-->
<!--    });-->

<!--    function validateForm() {-->
<!--        let isValid = true;-->
<!--        const password = document.getElementById("newPassword").value;-->
<!--        const confirmPassword = document.getElementById("confirmPassword").value;-->
<!--        clearAllErrors();-->
<!--        if (!password.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/)) {-->
<!--            showError("passwordError", "Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt!");-->
<!--            isValid = false;-->
<!--        }-->
<!--        if (password !== confirmPassword) {-->
<!--            showError("confirmPasswordError", "Mật khẩu xác nhận không khớp!");-->
<!--            isValid = false;-->
<!--        }-->
<!--        return isValid;-->
<!--    }-->

<!--    function showError(id, message) {-->
<!--        const errorEl = document.getElementById(id);-->
<!--        errorEl.textContent = message;-->
<!--        errorEl.style.display = "block";-->
<!--    }-->

<!--    function clearAllErrors() {-->
<!--        document.querySelectorAll(".text-danger").forEach(e => e.style.display = "none");-->
<!--    }-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
